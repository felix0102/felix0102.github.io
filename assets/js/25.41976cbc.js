(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{94:function(t,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"安装brew"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装brew"}},[t._v("#")]),t._v(" 安装brew")]),t._v(" "),a("blockquote",[a("p",[t._v("用mac自带的mac下载，去https://brew.sh/index_zh-cn.html 复制命令")])]),t._v(" "),a("h2",{attrs:{id:"安装vsftpd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装vsftpd"}},[t._v("#")]),t._v(" 安装vsftpd")]),t._v(" "),a("ul",[a("li",[t._v("brew install vsftpd")]),t._v(" "),a("li",[t._v("brew安装完vsftpd后会给出以下提示：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("To use chroot, vsftpd requires root privileges, so you will need to run\nsudo vsftpd.\nYou should be certain that you trust any software you grant root privileges.\n\nThe vsftpd.conf file must be owned by root or vsftpd will refuse to start:\nsudo chown root /usr/local/etc/vsftpd.conf\n\nTo have launchd start vsftpd now and restart at startup:\nsudo brew services start vsftpd\nOr, if you don’t want/need a background service you can just run:\nsudo vsftpd\n")])])]),a("blockquote",[a("p",[t._v("运行命令：sudo chown root /usr/local/etc/vsftpd.conf")])]),t._v(" "),a("h2",{attrs:{id:"修改配置文件vsftpd-conf："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件vsftpd-conf："}},[t._v("#")]),t._v(" 修改配置文件vsftpd.conf：")]),t._v(" "),a("ul",[a("li",[t._v("local_enable=YES")]),t._v(" "),a("li",[t._v("write_enable=YES")])]),t._v(" "),a("h2",{attrs:{id:"新建一个用户："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建一个用户："}},[t._v("#")]),t._v(" 新建一个用户：")]),t._v(" "),a("p",[t._v("ftp1，并设置密码。mac中不能使用命令useradd，所以要到系统偏好设置->用户与群主 中新增用户。\n启动vaftpd：sudo brew services start vsftpd\n在/etc/shells中新增/bin/false和/sbin/nologin，这样可以允许ftp登录，禁止ssh登录，如果没有这个需要可以不用设置。\n用ftp1登录，可能会报以下错误")]),t._v(" "),a("h2",{attrs:{id:"重启vsftpd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启vsftpd"}},[t._v("#")]),t._v(" 重启vsftpd")]),t._v(" "),a("p",[t._v("sudo brew services restart vsftpd, 重新登录ftp1,报错：\n331 Please specify the password. 530 Login incorrect.\n解决方法：")]),t._v(" "),a("p",[t._v("cd /etc/pam.d, 找到ftp server的名字，我找到的是ftpd。\n在vsftpd.conf加上pam_service_name=ftpd")]),t._v(" "),a("p",[t._v("重启vsftpd")]),t._v(" "),a("p",[t._v("上述步骤完成之后就可以使用127.0.0.1访问该ftp服务器了。")]),t._v(" "),a("h2",{attrs:{id:"修改默认目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改默认目录"}},[t._v("#")]),t._v(" 修改默认目录")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("修改ftp的根目录只要修改/usr/local/etc/vsftpd.conf文件即可：\n\n加入如下几行：\n\nlocal_root=/var/www/html\nchroot_local_user=YES\nanon_root=/var/www/html\n\n注：local_root 针对系统用户；anon_root 针对匿名用户。\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);